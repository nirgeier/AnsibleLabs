<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A collection of GitHub Labs for learning and practicing GitHub skills."><meta name=author content="Nir Geier - nirgeier@gmail.com"><link href=https://nirgeier.github.io/AnsibleLabs/001-verify-ansible/ rel=canonical><link href=../000-setup/ rel=prev><link href=../002-no-inventory/ rel=next><link rel=icon href=../assets/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.16"><title>001 Verify Ansible - AnsibleLabs</title><link rel=stylesheet href=../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%202a7%207%200%200%200-7%207c0%202.38%201.19%204.47%203%205.74V17a1%201%200%200%200%201%201h6a1%201%200%200%200%201-1v-2.26c1.81-1.27%203-3.36%203-5.74a7%207%200%200%200-7-7M9%2021a1%201%200%200%200%201%201h4a1%201%200%200%200%201-1v-1H9z%22/%3E%3C/svg%3E');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Mulish:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Mulish";--md-code-font:"JetBrains Mono"}</style><link rel=stylesheet href=../css/print-site.css><link rel=stylesheet href=../css/print-site-material.css><link rel=stylesheet href=../assets/stylesheets/theme.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#lab-001-verify-ansible-configuration class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Determine classes --> <!-- Header --> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <!-- Link to home --> <a href=.. title=AnsibleLabs class="md-header__button md-logo" aria-label=AnsibleLabs data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <!-- Button to open drawer --> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <!-- Header title --> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AnsibleLabs </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 001 Verify Ansible </span> </div> </div> </div> <div class=m-social__top> <!-- Social links --> <div class=md-social> <a href=https://github.com/nirgeier/AnsibleLabs target=_blank rel=noopener title="View on GitHub" class="md-social__link social-class__github"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://github.com/nirgeier/AnsibleLabs/network/members target=_blank rel=noopener title="Fork this repo" class="md-social__link social-class__fork"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0M5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0m6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5m-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0"/></svg> </a> <a href=https://github.com/nirgeier/AnsibleLabs/stargazers target=_blank rel=noopener title="Star this repo" class="md-social__link social-class__star"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25m0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41z"/></svg> </a> <a href=https://www.linkedin.com/in/nirgeier/ target=_blank rel=noopener title="Connect on LinkedIn" class="md-social__link social-class__linkedin"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=https://discord.gg/U6xW23Ss target=_blank rel=noopener title="Follow me on Discord" class="md-social__link social-class__discord"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg> </a> <a href=https://stackoverflow.com/users/1755598/codewizard target=_blank rel=noopener title="Follow me on Stack Overflow" class="md-social__link social-class__stackoverflow"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M291 311 95.3 269.7 87.1 309l195.7 41zm51-87L188.5 95.7 163 126.5l153.5 128.3zm-31.2 39.7L129.5 179l-16.7 36.5L294 300zM262.3 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H43V320H3v160h359.5V320h-40z"/></svg> </a> <a href=https://wa.me/972548122310 target=_blank rel=noopener title="Follow me on WhatsApp" class="md-social__link social-class__whatsapp"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157m-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6m101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6"/></svg> </a> <a href=mailto:nirg@codewizard.co.il target=_blank rel=noopener title="Email me" class="md-social__link social-class__email"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z"/></svg> </a> </div> </div> <!-- Color palette toggle --> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-hidden=true type=radio name=__palette id=__palette_0> </form> <!-- User preference: color palette --> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <!-- Site language selector --> <!-- Button to open search modal --> <!-- Check if search is actually enabled - see https://t.ly/DT_0V --> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <!-- Search interface --> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <!-- Repository information --> <div class=md-header__source> <a href=https://github.com/nirgeier/AnsibleLabs title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> nirgeier/AnsibleLabs </div> </a> </div> </nav> <!-- Navigation tabs (sticky) --> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../welcome/ class=md-tabs__link> Start Here </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=.. class=md-tabs__link> Labs </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=AnsibleLabs class="md-nav__button md-logo" aria-label=AnsibleLabs data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> AnsibleLabs </label> <div class=md-nav__source> <a href=https://github.com/nirgeier/AnsibleLabs title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> nirgeier/AnsibleLabs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../welcome/ class=md-nav__link> <span class=md-ellipsis> Start Here </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <div class="md-nav__link md-nav__container"> <a href=.. class="md-nav__link "> <span class=md-ellipsis> Labs </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Labs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../000-setup/ class=md-nav__link> <span class=md-ellipsis> 000 Setup </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 001 Verify Ansible </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 001 Verify Ansible </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#pre-requirements class=md-nav__link> <span class=md-ellipsis> Pre-Requirements </span> </a> </li> <li class=md-nav__item> <a href=#01-create-configuration-files class=md-nav__link> <span class=md-ellipsis> 01. Create configuration files </span> </a> </li> <li class=md-nav__item> <a href=#02-about-ansiblecfg-file class=md-nav__link> <span class=md-ellipsis> 02. About ansible.cfg file </span> </a> </li> <li class=md-nav__item> <a href=#03-ansiblecfg-locations class=md-nav__link> <span class=md-ellipsis> 03. ansible.cfg locations: </span> </a> </li> <li class=md-nav__item> <a href=#04-ansiblecfg-structure class=md-nav__link> <span class=md-ellipsis> 04. ansible.cfg structure: </span> </a> <nav class=md-nav aria-label="04. ansible.cfg structure:"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#callback_plugins class=md-nav__link> <span class=md-ellipsis> [callback_plugins] </span> </a> </li> <li class=md-nav__item> <a href=#connection class=md-nav__link> <span class=md-ellipsis> [connection] </span> </a> </li> <li class=md-nav__item> <a href=#defaults class=md-nav__link> <span class=md-ellipsis> [defaults] </span> </a> </li> <li class=md-nav__item> <a href=#diff class=md-nav__link> <span class=md-ellipsis> [diff] </span> </a> </li> <li class=md-nav__item> <a href=#galaxy class=md-nav__link> <span class=md-ellipsis> [galaxy] </span> </a> </li> <li class=md-nav__item> <a href=#inventory class=md-nav__link> <span class=md-ellipsis> [inventory] </span> </a> </li> <li class=md-nav__item> <a href=#logging class=md-nav__link> <span class=md-ellipsis> [logging] </span> </a> </li> <li class=md-nav__item> <a href=#paramiko_connection class=md-nav__link> <span class=md-ellipsis> [paramiko_connection] </span> </a> </li> <li class=md-nav__item> <a href=#privilege_escalation class=md-nav__link> <span class=md-ellipsis> [privilege_escalation] </span> </a> </li> <li class=md-nav__item> <a href=#ssh_connection class=md-nav__link> <span class=md-ellipsis> [ssh_connection] </span> </a> </li> <li class=md-nav__item> <a href=#winrm class=md-nav__link> <span class=md-ellipsis> [winrm] </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#05-auto-generate-ansiblecfg class=md-nav__link> <span class=md-ellipsis> 05. Auto Generate ansible.cfg </span> </a> </li> <li class=md-nav__item> <a href=#06-create-the-sshconfig-file class=md-nav__link> <span class=md-ellipsis> 06. Create the ssh.config file </span> </a> </li> <li class=md-nav__item> <a href=#07-create-the-inventory-file class=md-nav__link> <span class=md-ellipsis> 07. Create the inventory file </span> </a> </li> <li class=md-nav__item> <a href=#08-prepare-for-execution class=md-nav__link> <span class=md-ellipsis> 08. Prepare for execution </span> </a> </li> <li class=md-nav__item> <a href=#09-check-ansible-configuration class=md-nav__link> <span class=md-ellipsis> 09. Check Ansible configuration </span> </a> </li> <li class=md-nav__item> <a href=#10-basic-ansible-configuration class=md-nav__link> <span class=md-ellipsis> 10. Basic ansible configuration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../002-no-inventory/ class=md-nav__link> <span class=md-ellipsis> 002 No Inventory </span> </a> </li> <li class=md-nav__item> <a href=../003-modules/ class=md-nav__link> <span class=md-ellipsis> 003 Modules </span> </a> </li> <li class=md-nav__item> <a href=../004-playbooks/ class=md-nav__link> <span class=md-ellipsis> 004 Playbooks </span> </a> </li> <li class=md-nav__item> <a href=../005-facts/ class=md-nav__link> <span class=md-ellipsis> 005 Facts </span> </a> </li> <li class=md-nav__item> <a href=../006-git/ class=md-nav__link> <span class=md-ellipsis> 006 Git </span> </a> </li> <li class=md-nav__item> <a href=../007-create-user/ class=md-nav__link> <span class=md-ellipsis> 007 Create User </span> </a> </li> <li class=md-nav__item> <a href=../008-challenges/ class=md-nav__link> <span class=md-ellipsis> 008 Challenges </span> </a> </li> <li class=md-nav__item> <a href=../009-roles/ class=md-nav__link> <span class=md-ellipsis> 009 Roles </span> </a> </li> <li class=md-nav__item> <a href=../010-loops-and-conditionals/ class=md-nav__link> <span class=md-ellipsis> 010 Loops And Conditionals </span> </a> </li> <li class=md-nav__item> <a href=../011-jinja-templating/ class=md-nav__link> <span class=md-ellipsis> 011 Jinja Templating </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <p><a href=https://github.com/nirgeier/AnsibleLabs/actions/workflows/Lab-001.yaml target=_blank> <img src=https://github.com/nirgeier/AnsibleLabs/actions/workflows/Lab-001.yaml/badge.svg alt="Build Status"> </a></p> <hr> <h1 id=lab-001-verify-ansible-configuration>Lab 001 - Verify Ansible configuration<a class=headerlink href=#lab-001-verify-ansible-configuration title="Permanent link">&para;</a></h1> <ul> <li>In this lab we will create the Ansible configuration and verify that it is configured correctly.</li> <li>This lab is based upon the <a href=../000-setup>previous lab</a> and its <code>docker-compose</code>.</li> <li>In this lab we will learn how to use:<ul> <li><code>ansible.cfg</code></li> <li><code>inventory</code></li> <li><code>ssh.config</code></li> </ul> </li> </ul> <h2 id=pre-requirements>Pre-Requirements<a class=headerlink href=#pre-requirements title="Permanent link">&para;</a></h2> <ul> <li>Complete the <a href=../000-setup#usage>previous lab</a> in order to have the <code>Ansible</code> controller and the <code>Linux</code> servers up and running.</li> </ul> <hr> <h2 id=01-create-configuration-files>01. Create configuration files<a class=headerlink href=#01-create-configuration-files title="Permanent link">&para;</a></h2> <div class="admonition warning"> <p class=admonition-title>IMPORTANT!</p> <ul> <li>In this lab we will be placing the files under the <code>/labs-scripts</code> directory. </li> <li>The directory is <strong>mounted</strong> to our docker container(s) under the <code>&lt;PROJECT_ROOT&gt;/runtime</code> directory. </li> <li>You are encouraged to review the <a href=../000-setup/docker-compose.yaml><code>docker-compose.yaml</code></a> file throughout the lab session. </li> </ul> </div> <hr> <h2 id=02-about-ansiblecfg-file>02. About <code>ansible.cfg</code> file<a class=headerlink href=#02-about-ansiblecfg-file title="Permanent link">&para;</a></h2> <ul> <li>What is <code>ansible.cfg</code> ?<ul> <li>The <code>ansible.cfg</code> file is an INI-like configuration file used to define various settings and parameters that influence how Ansible operates. </li> <li>It allows users to customize Ansible&rsquo;s behavior, such as specifying inventory locations, default module settings, connection options, and more.</li> <li>The <code>ansible.cfg</code> file can be placed in several locations, and Ansible will search for it in a specific order.</li> <li>The configuration file is divided into sections, each containing various customizable parameters that control different aspects of Ansible&rsquo;s functionality.</li> <li>Below we will create the <code>ansible.cfg</code> file, the <code>ssh.config</code> file and the <code>inventory</code> file.</li> </ul> </li> </ul> <hr> <h2 id=03-ansiblecfg-locations>03. <code>ansible.cfg</code> locations:<a class=headerlink href=#03-ansiblecfg-locations title="Permanent link">&para;</a></h2> <ul> <li>Reference: <a href=https://docs.ansible.com/ansible/latest/reference_appendices/config.html#the-configuration-file>Official Ansible documentation: - Ansible Configuration Settings</a></li> <li>Ansible searches <code>ansible.cfg</code> in a specific order. </li> <li>The <strong>first file</strong> it finds will be used while ignoring the rest.</li> <li> <p>Ansible will <strong>search</strong> for the configuration file in the following order: </p> <table> <thead> <tr> <th>Search resource</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>ANSIBLE_CONFIG</code></td> <td>environment variable if set</td> </tr> <tr> <td><code>ansible.cfg</code></td> <td>In the current directory</td> </tr> <tr> <td><code>~/.ansible.cfg</code></td> <td>Under the home directory</td> </tr> <tr> <td><code>/etc/ansible/ansible.cfg</code></td> <td>OS common path</td> </tr> </tbody> </table> </li> <li> <p>In this exercise the environment variable <code>ANSIBLE_CONFIG</code> is set in the docker container path <code>/labs-scripts/.ansible.cfg</code></p> </li> </ul> <hr> <h2 id=04-ansiblecfg-structure>04. <code>ansible.cfg</code> structure:<a class=headerlink href=#04-ansiblecfg-structure title="Permanent link">&para;</a></h2> <ul> <li> <p>The <code>ansible.cfg</code> file is <strong>divided into sections</strong>, each containing various customizable parameters.</p> </li> <li> <p>Main <code>ansible.cfg</code> settings:</p> </li> </ul> <table> <thead> <tr> <th>Setting</th> <th>Description</th> <th>Ansible Docs</th> </tr> </thead> <tbody> <tr> <td>[callback_plugins]</td> <td>Specifies directories for callback plugins that customize output or trigger actions.</td> <td><a href=https://docs.ansible.com/ansible/latest/reference_appendices/config.html#callback-plugins>Docs</a></td> </tr> <tr> <td>[connection]</td> <td>Defines general connection settings that apply to all connection types.</td> <td><a href=https://docs.ansible.com/ansible/latest/reference_appendices/config.html#connection>Docs</a></td> </tr> <tr> <td>[defaults]</td> <td>Contains general settings for Ansible such as inventory location, verbosity, and log settings.</td> <td><a href=https://docs.ansible.com/ansible/latest/reference_appendices/config.html#defaults>Docs</a></td> </tr> <tr> <td>[diff]</td> <td>Controls whether Ansible shows differences when applying configurations.</td> <td><a href=https://docs.ansible.com/ansible/latest/reference_appendices/config.html#diff>Docs</a></td> </tr> <tr> <td>[galaxy]</td> <td>Configures settings for Ansible Galaxy, a hub for sharing roles and collections.</td> <td><a href=https://docs.ansible.com/ansible/latest/reference_appendices/config.html#galaxy>Docs</a></td> </tr> <tr> <td>[inventory]</td> <td>Defines options related to inventory parsing and caching.</td> <td><a href=https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inventory>Docs</a></td> </tr> <tr> <td>[logging]</td> <td>Logging configuration, typically under [defaults] section using log_path.</td> <td><a href=https://docs.ansible.com/ansible/latest/reference_appendices/config.html#defaults>Docs</a></td> </tr> <tr> <td>[paramiko_connection]</td> <td>Configures settings specific to the Paramiko SSH library.</td> <td><a href=https://docs.ansible.com/ansible/latest/reference_appendices/config.html#paramiko-connection>Docs</a></td> </tr> <tr> <td>[privilege_escalation]</td> <td>Defines settings related to privilege escalation, such as sudo or become.</td> <td><a href=https://docs.ansible.com/ansible/latest/reference_appendices/config.html#privilege-escalation>Docs</a></td> </tr> <tr> <td>[ssh_connection]</td> <td>Settings for SSH connections, (timeout, control settings etc).</td> <td><a href=https://docs.ansible.com/ansible/latest/reference_appendices/config.html#ssh-connection>Docs</a></td> </tr> <tr> <td>[winrm]</td> <td>Configures settings for Windows Remote Management (WinRM) connections.</td> <td><a href=https://docs.ansible.com/ansible/latest/reference_appendices/config.html#winrm>Docs</a></td> </tr> </tbody> </table> <hr> <h3 id=callback_plugins><code>[callback_plugins]</code><a class=headerlink href=#callback_plugins title="Permanent link">&para;</a></h3> <ul> <li>The <code>[callback_plugins]</code> section specifies directories where Ansible looks for callback plugins, which can customize output or trigger actions based on playbook events. <div class="language-ini highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=k>[callback_plugins]</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=w>    </span><span class=na>stdout_callback</span><span class=w>     </span><span class=o>=</span><span class=w>    </span><span class=s>yaml</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=w>    </span><span class=na>callback_whitelist</span><span class=w>  </span><span class=o>=</span><span class=w>    </span><span class=s>timer, profile_tasks</span>
</span></code></pre></div></li> </ul> <h3 id=connection><code>[connection]</code><a class=headerlink href=#connection title="Permanent link">&para;</a></h3> <ul> <li>The <code>[connection]</code> section defines general connection settings that apply to all connection types. <div class="language-ini highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=k>[connection]</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>    </span><span class=na>pipelining</span><span class=w>          </span><span class=o>=</span><span class=w>    </span><span class=s>True</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>    </span><span class=na>control_path_dir</span><span class=w>    </span><span class=o>=</span><span class=w>    </span><span class=s>~/.ansible/cp</span>
</span></code></pre></div></li> </ul> <h3 id=defaults><code>[defaults]</code><a class=headerlink href=#defaults title="Permanent link">&para;</a></h3> <ul> <li>The <code>[defaults]</code> section contains the general settings for Ansible (such as inventory location, verbosity and log settings).</li> <li>It is the most commonly used section and is often the first place users look to customize their Ansible environment.</li> <li> <p>Here are some commonly used settings in the <code>[defaults]</code> section:</p> <ul> <li><code>ask_pass</code> - If set to true, Ansible will prompt for the SSH password.</li> <li><code>host_key_checking</code> - If set to false, Ansible will not check SSH host keys.</li> <li><code>inventory</code> - Specifies the path to the inventory file.</li> <li><code>log_path</code> - Specifies the path to the log file.</li> <li><code>remote_user</code> - Specifies the default remote user for SSH connections.</li> <li><code>timeout</code> - Specifies the timeout for SSH connections in seconds.</li> <li><code>private_key_file</code> - Specifies the path to the private key file for SSH authentication.</li> <li><code>become</code> - If set to true, privilege escalation (e.g., sudo) will be used.</li> <li><code>become_method</code> - Specifies the method to use for privilege escalation (e.g., sudo, su).</li> <li><code>become_user</code> - Specifies the user to become when using privilege escalation.</li> <li><code>retry_files_enabled</code> - If set to false, Ansible will not create retry files.</li> <li><code>gathering</code> - Specifies how facts are gathered (e.g., smart, explicit, none).</li> </ul> <div class="language-ini highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>[defaults]</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w>    </span><span class=na>ask_pass</span><span class=w>            </span><span class=o>=</span><span class=w>    </span><span class=s>false</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>    </span><span class=na>host_key_checking</span><span class=w>   </span><span class=o>=</span><span class=w>    </span><span class=s>false</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>    </span><span class=na>inventory</span><span class=w>           </span><span class=o>=</span><span class=w>    </span><span class=s>/etc/ansible/hosts</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>    </span><span class=na>log_path</span><span class=w>            </span><span class=o>=</span><span class=w>    </span><span class=s>/var/log/ansible.log</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>    </span><span class=na>remote_user</span><span class=w>         </span><span class=o>=</span><span class=w>    </span><span class=s>ansible</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=w>    </span><span class=na>timeout</span><span class=w>             </span><span class=o>=</span><span class=w>    </span><span class=s>30</span>
</span></code></pre></div> </li> </ul> <h3 id=diff><code>[diff]</code><a class=headerlink href=#diff title="Permanent link">&para;</a></h3> <ul> <li>Controls whether Ansible shows differences when applying configurations.</li> <li> <p>This can be useful for debugging and understanding changes.</p> <ul> <li><code>always</code> - Show differences even when the playbook is not run in check mode.</li> <li><code>context</code> - The number of lines of context to show around changes.</li> <li><code>ignore</code> - Do not show differences.</li> <li><code>diff</code> - Show a unified diff of changes.</li> <li><code>unified</code> - Show a unified diff of changes with context lines.</li> </ul> <div class="language-ini highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>[diff]</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>    </span><span class=na>always</span><span class=w>              </span><span class=o>=</span><span class=w>    </span><span class=s>True</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>    </span><span class=na>context</span><span class=w>             </span><span class=o>=</span><span class=w>    </span><span class=s>5</span>
</span></code></pre></div> </li> </ul> <h3 id=galaxy><code>[galaxy]</code><a class=headerlink href=#galaxy title="Permanent link">&para;</a></h3> <ul> <li>The <code>[galaxy]</code> section configures settings for Ansible Galaxy, which is a hub for sharing and downloading Ansible roles and collections.</li> <li>This section can be used to specify custom Galaxy servers, caching options, and other related settings.</li> <li> <p>Here is an example configuration for the <code>[galaxy]</code> section:</p> <ul> <li><code>server_list</code> - Specifies the list of Galaxy servers to use.</li> <li><code>cache_dir</code> - Specifies the directory to cache downloaded roles and collections.</li> <li><code>role_file</code> - Specifies the path to the file containing role definitions.</li> <li><code>collection_file</code> - Specifies the path to the file containing collection definitions.</li> <li><code>requirements_file</code> - Specifies the path to the file containing Galaxy requirements.</li> <li><code>role_file</code> - Specifies the path to the file containing role definitions.</li> </ul> <div class="language-ini highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=k>[galaxy]</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>    </span><span class=na>server_list</span><span class=w>         </span><span class=o>=</span><span class=w>    </span><span class=s>release_galaxy</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>    </span><span class=na>cache_dir</span><span class=w>           </span><span class=o>=</span><span class=w>    </span><span class=s>~/.ansible/galaxy_cache</span>
</span></code></pre></div> </li> </ul> <h3 id=inventory><code>[inventory]</code><a class=headerlink href=#inventory title="Permanent link">&para;</a></h3> <ul> <li>Defines options related to inventory parsing and caching.</li> <li>Inventory is a critical component of Ansible, as it defines the hosts and groups of hosts that Ansible will manage.</li> <li>The inventory can be specified in various formats, including <code>INI</code> files, <code>YAML</code> files, and dynamic inventory scripts.</li> <li>The inventory can also be cached to improve performance.</li> <li> <p>Here are some commonly used settings in the <code>[inventory]</code> section:</p> <ul> <li><code>enable_plugins</code> - Specifies the inventory plugins to use.</li> <li><code>cache</code> - If set to true, inventory caching will be enabled.</li> <li><code>cache_plugin</code> - Specifies the inventory cache plugin to use.</li> <li><code>cache_timeout</code> - Specifies the timeout for inventory caching in seconds.</li> <li><code>inventory_ignore_extensions</code> - Specifies file extensions to ignore when loading inventory files.</li> <li><code>inventory_loader</code> - Specifies the inventory loader to use.</li> <li><code>strict</code> - If set to true, Ansible will enforce strict inventory parsing.</li> <li><code>host_key_checking</code> - If set to true, Ansible will check SSH host keys for inventory hosts.</li> <li><code>enable_inventory_cache</code> - If set to true, inventory caching will be enabled.</li> <li><code>inventory_cache_timeout</code> - Specifies the timeout for inventory caching in seconds.</li> <li><code>inventory_cache_connection</code> - Specifies the connection string for the inventory cache plugin.</li> </ul> <div class="language-ini highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=k>[inventory]</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>    </span><span class=na>enable_plugins</span><span class=w>      </span><span class=o>=</span><span class=w>    </span><span class=s>host_list, ini, auto</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>    </span><span class=na>cache</span><span class=w>               </span><span class=o>=</span><span class=w>    </span><span class=s>True</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>    </span><span class=na>cache_plugin</span><span class=w>        </span><span class=o>=</span><span class=w>    </span><span class=s>memory</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>    </span><span class=na>cache_timeout</span><span class=w>       </span><span class=o>=</span><span class=w>    </span><span class=s>3600</span>
</span></code></pre></div> </li> </ul> <h3 id=logging><code>[logging]</code><a class=headerlink href=#logging title="Permanent link">&para;</a></h3> <ul> <li>Ansible does not have a dedicated <code>[logging]</code> section in <code>ansible.cfg</code>. </li> <li>Instead, logging is typically configured under the <code>[defaults]</code> section using the <code>log_path</code> directive.</li> <li><code>log_path</code> controls where Ansible logs its output. </li> <li>If <code>log_path</code> is set, Ansible will write logs to the specified file, where as if it is not set, or left empty, logging will be disabled.</li> <li>Here is an example of how to configure logging in the <code>[defaults]</code> section: <div class="language-ini highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=k>[defaults]</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>    </span><span class=na>log_path</span><span class=w>            </span><span class=o>=</span><span class=w>     </span><span class=s>/var/log/ansible.log</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>    </span><span class=na>log_level</span><span class=w>           </span><span class=o>=</span><span class=w>     </span><span class=s>info</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>    </span><span class=na>log_format</span><span class=w>          </span><span class=o>=</span><span class=w>     </span><span class=s>default</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>    </span><span class=na>log_date_format</span><span class=w>     </span><span class=o>=</span><span class=w>     </span><span class=s>iso8601</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>    </span><span class=na>log_ansi</span><span class=w>            </span><span class=o>=</span><span class=w>     </span><span class=s>True</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=w>    </span><span class=na>log_color</span><span class=w>           </span><span class=o>=</span><span class=w>     </span><span class=s>auto</span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=w>    </span><span class=na>log_file</span><span class=w>            </span><span class=o>=</span><span class=w>     </span><span class=s>/var/log/ansible.log</span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=w>    </span><span class=na>log_rotate</span><span class=w>          </span><span class=o>=</span><span class=w>     </span><span class=s>True</span>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=w>    </span><span class=na>log_max_size</span><span class=w>        </span><span class=o>=</span><span class=w>     </span><span class=s>10485760</span>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=w>    </span><span class=na>log_compress</span><span class=w>        </span><span class=o>=</span><span class=w>     </span><span class=s>True</span>
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=w>    </span><span class=na>log_backup_count</span><span class=w>    </span><span class=o>=</span><span class=w>     </span><span class=s>5</span>
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a><span class=w>    </span><span class=na>log_http</span><span class=w>            </span><span class=o>=</span><span class=w>     </span><span class=s>False</span>
</span><span id=__span-6-14><a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a><span class=w>    </span><span class=na>log_json</span><span class=w>            </span><span class=o>=</span><span class=w>     </span><span class=s>True</span>
</span></code></pre></div></li> </ul> <h3 id=paramiko_connection><code>[paramiko_connection]</code><a class=headerlink href=#paramiko_connection title="Permanent link">&para;</a></h3> <ul> <li>The <code>[paramiko_connection]</code> section configures settings specific to the Paramiko SSH library, an alternative to OpenSSH for SSH connections.</li> <li> <p>Here are some commonly used settings in the <code>[paramiko_connection]</code> section:</p> <ul> <li><code>pty</code> - If set to true, a pseudo-terminal will be allocated for the connection.</li> <li><code>look_for_keys</code> - If set to true, Paramiko will look for SSH keys</li> <li><code>banner_timeout</code> - Specifies the timeout for receiving the SSH banner.</li> <li><code>keepalive</code> - If set to true, keepalive messages will be sent to</li> </ul> <div class="language-ini highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=k>[paramiko_connection]</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=w>    </span><span class=na>pty</span><span class=w>                 </span><span class=o>=</span><span class=w>    </span><span class=s>False</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>    </span><span class=na>look_for_keys</span><span class=w>       </span><span class=o>=</span><span class=w>    </span><span class=s>True</span>
</span></code></pre></div> </li> </ul> <h3 id=privilege_escalation><code>[privilege_escalation]</code><a class=headerlink href=#privilege_escalation title="Permanent link">&para;</a></h3> <ul> <li>The <code>[privilege_escalation]</code> section defines settings related to privilege escalation (such as <strong><code>sudo</code></strong> or <strong><code>become</code></strong>).</li> <li> <p>The <code>become</code> directive is used to enable privilege escalation.</p> </li> <li> <p>Here are some commonly used settings in the <code>[privilege_escalation]</code> section:</p> <ul> <li><code>become</code> - If set to true, privilege escalation will be used.</li> <li><code>become_method</code> - Specifies the method to use for privilege escalation (e.g., sudo, su).</li> <li><code>become_user</code> - Specifies the user to become when using privilege escalation.</li> <li><code>become_ask_pass</code> - If set to true, Ansible will prompt for the privilege escalation password.</li> <li><code>become_flags</code> - Specifies any additional flags to pass to the privilege escalation command.</li> <li><code>become_exe</code> - Specifies the path to the privilege escalation executable.</li> <li><code>become_pass</code> - Specifies the password to use for privilege escalation.</li> </ul> <div class="language-ini highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=k>[privilege_escalation]</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>    </span><span class=na>become</span><span class=w>              </span><span class=o>=</span><span class=w>    </span><span class=s>True</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>    </span><span class=na>become_method</span><span class=w>       </span><span class=o>=</span><span class=w>    </span><span class=s>sudo</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=w>    </span><span class=na>become_user</span><span class=w>         </span><span class=o>=</span><span class=w>    </span><span class=s>root</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>    </span><span class=na>become_ask_pass</span><span class=w>     </span><span class=o>=</span><span class=w>    </span><span class=s>False</span>
</span></code></pre></div> </li> </ul> <h3 id=ssh_connection><code>[ssh_connection]</code><a class=headerlink href=#ssh_connection title="Permanent link">&para;</a></h3> <ul> <li>Settings for SSH connections, (timeout, control settings etc).</li> <li>ControlMaster and ControlPersist options are used for SSH multiplexing, allowing multiple SSH sessions to share a single connection.</li> <li><code>ssh_args</code> can be used to pass additional options to the SSH command.</li> <li><code>pipelining</code> can be enabled to reduce the number of SSH connections.</li> <li> <p><code>scp_if_ssh</code> specifies whether to use <code>SCP</code> for file transfers when using SSH.</p> <div class="language-ini highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=k>[ssh_connection]</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=w>    </span><span class=na>ssh_args</span><span class=w>            </span><span class=o>=</span><span class=w>    </span><span class=s>-o ControlMaster=auto -o ControlPersist=60s</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=w>    </span><span class=na>pipelining</span><span class=w>          </span><span class=o>=</span><span class=w>    </span><span class=s>True</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=w>    </span><span class=na>scp_if_ssh</span><span class=w>          </span><span class=o>=</span><span class=w>    </span><span class=s>True</span>
</span></code></pre></div> </li> </ul> <h3 id=winrm><code>[winrm]</code><a class=headerlink href=#winrm title="Permanent link">&para;</a></h3> <ul> <li>The <code>[winrm]</code> section configures settings for Windows Remote Management (WinRM) connections, used for managing Windows hosts.</li> <li> <p>Here are some commonly used settings in the <code>[winrm]</code> section:</p> <ul> <li><code>transport</code> - Specifies the transport method to use (e.g., basic, ntlm).</li> <li><code>cert_validation</code> - Controls certificate validation (e.g., ignore, validate).</li> <li><code>read_timeout_sec</code> - Specifies the read timeout for WinRM connections in seconds.</li> <li><code>operation_timeout_sec</code> - Specifies the operation timeout for WinRM connections in seconds.</li> <li><code>max_retries</code> - Specifies the maximum number of retries for WinRM connections.</li> <li><code>retry_delay</code> - Specifies the delay between retries for WinRM connections.</li> </ul> <div class="language-ini highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=k>[winrm]</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=w>    </span><span class=na>transport</span><span class=w>           </span><span class=o>=</span><span class=w>    </span><span class=s>basic</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=w>    </span><span class=na>cert_validation</span><span class=w>     </span><span class=o>=</span><span class=w>    </span><span class=s>ignore</span>
</span></code></pre></div> </li> </ul> <hr> <h2 id=05-auto-generate-ansiblecfg>05. Auto Generate <code>ansible.cfg</code><a class=headerlink href=#05-auto-generate-ansiblecfg title="Permanent link">&para;</a></h2> <ul> <li>You can choose to execute <code>ansible-config init</code>, which will generate a sample Ansible configuration file. </li> <li> <p>As this is the main configuration file for our demo application, it is the content of <code>ansible.cfg</code> which we will use in this lab.</p> <div class="language-ini highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=c1># File location: $RUNTIME_FOLDER/labs-scripts/ansible.cfg.</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=c1># This is the default location of the inventory file, script, or directory that </span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=na>Ansible will use to determine what hosts it has available to talk to.</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=c1># Defines that the inventory info is in a file named “inventory”.</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=k>[defaults]</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=w>    </span><span class=na>inventory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>inventory</span>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a><span class=c1># Specifies remote hosts, so we do not need to config them in main SSH config.</span>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=k>[ssh_connection]</span>
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a><span class=w>    </span><span class=na>transport</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>ssh</span>
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a><span class=w>    </span><span class=na>transfer_method</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>scp</span>
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a>
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a><span class=w>    </span><span class=c1># The location of the SSH config file.</span>
</span><span id=__span-11-15><a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a><span class=w>    </span><span class=c1># We will create this file in our next step.</span>
</span><span id=__span-11-16><a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a><span class=w>    </span><span class=na>ssh_args</span><span class=w>  </span><span class=o>=</span><span class=w> </span><span class=s>-F ssh.config                   </span>\
</span><span id=__span-11-17><a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a><span class=w>                </span><span class=s>-o ControlMaster=auto           </span>\
</span><span id=__span-11-18><a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a><span class=w>                </span><span class=s>-o ControlPersist=60s           </span>\
</span><span id=__span-11-19><a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a><span class=w>                </span><span class=s>-o StrictHostKeyChecking=no     </span>\
</span><span id=__span-11-20><a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a><span class=w>                </span><span class=s>-o UserKnownHostsFile=/root/.ssh/known_hosts</span>
</span></code></pre></div> </li> </ul> <hr> <h2 id=06-create-the-sshconfig-file>06. Create the <code>ssh.config</code> file<a class=headerlink href=#06-create-the-sshconfig-file title="Permanent link">&para;</a></h2> <ul> <li>Ansible operates in Linux environments using <code>SSH</code> protocol, in order to run Ansible playbooks.</li> <li>By default, Ansible uses the default SSH keys, unless provided with an SSH configuration file.</li> <li>Ansible ssh.config file allows you to define custom SSH settings for connecting to remote hosts.</li> <li>In this demo we will use our own <code>ssh.config</code> configuration file. <div class="language-ini highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=c1># File location: $RUNTIME_FOLDER/labs-scripts/ssh.config</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=c1># Set up the desired hosts</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=c1># keep in mind that we have set up the hosts in the docker-compose</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=na>Host *</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=c1># Disable host key checking</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=c1># Avoid asking for the key-print authenticity</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a><span class=na>StrictHostKeyChecking no        </span>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a><span class=na>UserKnownHostsFile    /dev/null</span>
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a>
</span><span id=__span-12-12><a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a><span class=c1># Enable hashing known_host file</span>
</span><span id=__span-12-13><a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a><span class=na>HashKnownHosts        yes</span>
</span><span id=__span-12-14><a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a>
</span><span id=__span-12-15><a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a><span class=c1># IdentityFile allows to specify private keys we wish to use for authentication</span>
</span><span id=__span-12-16><a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a><span class=c1># Authentication = the process of authentication</span>
</span><span id=__span-12-17><a id=__codelineno-12-17 name=__codelineno-12-17 href=#__codelineno-12-17></a><span class=c1># We will use the auto-generated SSH keys from our Docker container</span>
</span><span id=__span-12-18><a id=__codelineno-12-18 name=__codelineno-12-18 href=#__codelineno-12-18></a>
</span><span id=__span-12-19><a id=__codelineno-12-19 name=__codelineno-12-19 href=#__codelineno-12-19></a><span class=c1># List the desired servers</span>
</span><span id=__span-12-20><a id=__codelineno-12-20 name=__codelineno-12-20 href=#__codelineno-12-20></a><span class=c1># The hosts are defined in the docker-compose which we created in the setup lab</span>
</span><span id=__span-12-21><a id=__codelineno-12-21 name=__codelineno-12-21 href=#__codelineno-12-21></a>
</span><span id=__span-12-22><a id=__codelineno-12-22 name=__codelineno-12-22 href=#__codelineno-12-22></a><span class=na>Host                  linux-server-1</span>
</span><span id=__span-12-23><a id=__codelineno-12-23 name=__codelineno-12-23 href=#__codelineno-12-23></a><span class=w>    </span><span class=na>HostName          linux-server-1</span>
</span><span id=__span-12-24><a id=__codelineno-12-24 name=__codelineno-12-24 href=#__codelineno-12-24></a><span class=w>    </span><span class=na>IdentityFile      /root/.ssh/linux-server-1</span>
</span><span id=__span-12-25><a id=__codelineno-12-25 name=__codelineno-12-25 href=#__codelineno-12-25></a><span class=w>    </span><span class=na>User              root</span>
</span><span id=__span-12-26><a id=__codelineno-12-26 name=__codelineno-12-26 href=#__codelineno-12-26></a><span class=w>    </span><span class=na>Port              22</span>
</span><span id=__span-12-27><a id=__codelineno-12-27 name=__codelineno-12-27 href=#__codelineno-12-27></a>
</span><span id=__span-12-28><a id=__codelineno-12-28 name=__codelineno-12-28 href=#__codelineno-12-28></a><span class=na>Host                  linux-server-2</span>
</span><span id=__span-12-29><a id=__codelineno-12-29 name=__codelineno-12-29 href=#__codelineno-12-29></a><span class=w>    </span><span class=na>HostName          linux-server-2</span>
</span><span id=__span-12-30><a id=__codelineno-12-30 name=__codelineno-12-30 href=#__codelineno-12-30></a><span class=w>    </span><span class=na>IdentityFile      /root/.ssh/linux-server-2</span>
</span><span id=__span-12-31><a id=__codelineno-12-31 name=__codelineno-12-31 href=#__codelineno-12-31></a><span class=w>    </span><span class=na>User              root</span>
</span><span id=__span-12-32><a id=__codelineno-12-32 name=__codelineno-12-32 href=#__codelineno-12-32></a><span class=w>    </span><span class=na>Port              22</span>
</span><span id=__span-12-33><a id=__codelineno-12-33 name=__codelineno-12-33 href=#__codelineno-12-33></a>
</span><span id=__span-12-34><a id=__codelineno-12-34 name=__codelineno-12-34 href=#__codelineno-12-34></a><span class=na>Host                  linux-server-3</span>
</span><span id=__span-12-35><a id=__codelineno-12-35 name=__codelineno-12-35 href=#__codelineno-12-35></a><span class=w>    </span><span class=na>HostName          linux-server-3</span>
</span><span id=__span-12-36><a id=__codelineno-12-36 name=__codelineno-12-36 href=#__codelineno-12-36></a><span class=w>    </span><span class=na>IdentityFile      /root/.ssh/linux-server-3</span>
</span><span id=__span-12-37><a id=__codelineno-12-37 name=__codelineno-12-37 href=#__codelineno-12-37></a><span class=w>    </span><span class=na>User              root</span>
</span><span id=__span-12-38><a id=__codelineno-12-38 name=__codelineno-12-38 href=#__codelineno-12-38></a><span class=w>    </span><span class=na>Port              22</span>
</span></code></pre></div></li> </ul> <h2 id=07-create-the-inventory-file>07. Create the <code>inventory</code> file<a class=headerlink href=#07-create-the-inventory-file title="Permanent link">&para;</a></h2> <ul> <li>See Ansible documentation: <a href=https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html>How to build your inventory</a>.</li> <li>An Ansible inventory file is a <code>configuration file</code> that <strong>lists and categorizes</strong> the hosts Ansible will <strong>manage</strong>. </li> <li>It provides a structured way to define <code>hosts</code> and <code>groups</code>, enabling efficient targeting and execution of tasks on specific hosts or groups of hosts.</li> <li>The simplest inventory is a <strong>single file</strong> with a list of <code>hosts</code> and <code>groups</code>.</li> <li>The inventory is written using the <code>INI</code> format.</li> <li><code>inventory</code> can be written in other formats as well, such as <code>YAML</code> and <code>Dynamic Inventory</code> which dynamically configure the inventory with scripts. </li> <li>The default location for this file is <code>/etc/ansible/hosts</code>.</li> <li>If <code>/etc/ansible/hosts</code> doesn&rsquo;t exists, ansible will look for user specific inventory file, to be placed at <code>$HOME/.ansible/hosts</code></li> <li>You can specify a different inventory file at the command line using the <code>-i &lt;path&gt;</code> inventory option when executing Ansible commands or by exporting the <code>ANSIBLE_INVENTORY</code> environment variable.</li> <li>Using <code>-i &lt;path&gt;</code> inventory option takes precedence over environment variable.</li> <li>The inventory configuration we will use for the labs: <div class="language-ini highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=c1># File location: $RUNTIME_FOLDER/labs-scripts/inventory</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=c1># List of servers which we want ansible to connect to</span>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=c1># The names are defined in the docker-compose</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a><span class=k>[servers]</span>
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a><span class=w>    </span><span class=na>linux-server-1 ansible_ssh_common_args</span><span class=o>=</span><span class=s>&#39;-o UserKnownHostsFile=/root/.ssh/known_hosts&#39;</span>
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a><span class=w>    </span><span class=na>linux-server-2 ansible_ssh_common_args</span><span class=o>=</span><span class=s>&#39;-o UserKnownHostsFile=/root/.ssh/known_hosts&#39;</span>
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a><span class=w>    </span><span class=na>linux-server-3 ansible_ssh_common_args</span><span class=o>=</span><span class=s>&#39;-o UserKnownHostsFile=/root/.ssh/known_hosts&#39;</span>
</span><span id=__span-13-10><a id=__codelineno-13-10 name=__codelineno-13-10 href=#__codelineno-13-10></a>
</span><span id=__span-13-11><a id=__codelineno-13-11 name=__codelineno-13-11 href=#__codelineno-13-11></a><span class=k>[all:vars]</span>
</span><span id=__span-13-12><a id=__codelineno-13-12 name=__codelineno-13-12 href=#__codelineno-13-12></a>
</span><span id=__span-13-13><a id=__codelineno-13-13 name=__codelineno-13-13 href=#__codelineno-13-13></a><span class=c1># Extra &quot;global&quot; variables for the inventory</span>
</span></code></pre></div></li> </ul> <p><strong>This inventory file is written following these rules:</strong></p> <ul> <li>Information is described by <strong>one node per line</strong>, such as <code>linux-server-xx</code>.</li> <li>A node line consists of an <code>identifier of the node (ex. linux-server-X)</code> and a <code>host variable(s) (ex. ansible_host=xxxx)</code>, to be given to the node .</li> <li>You can also specify an IP address or FQDN for the <code>linux-server-xx</code> part.</li> <li>You can create a group of hosts with <code>[group_name]</code>. In our inventory the group name is <code>[servers]</code>.</li> <li> <p>You can use any group name except <code>[all]</code> and <code>[localhost]</code> (e.g., <code>[webservers]</code> or <code>[databases]</code> can be used as <strong>group</strong> names for servers).</p> <p><strong><code>[all]</code></strong></p> <ul> <li><code>all</code> is a special group that points to all nodes described in the inventory.</li> <li>The <code>[all:vars]</code> &amp; <code>group variables</code> are defined for the group <code>all</code>.<ul> <li>When we use a <strong>group</strong>, we can use the whole group as &ldquo;hosts&rdquo; for ansible.</li> </ul> </li> <li>A <a href=https://docs.ansible.com/ansible/latest/reference_appendices/special_variables.html>magic variable</a>, represented by <code>ansible_xxxx</code>, contains special values that control Ansible&rsquo;s behavior and environment information that Ansible will automatically retrieve. </li> <li>Details are explained in the <a href="need to add a link to variables section">variables section</a>.</li> </ul> </li> </ul> <hr> <h2 id=08-prepare-for-execution>08. Prepare for execution<a class=headerlink href=#08-prepare-for-execution title="Permanent link">&para;</a></h2> <ul> <li>Place the files under the shared folder or simply execute the script <a href=Labs/000-setup/02-init-ansible.sh>/Labs/000-setup/02-init-ansible.sh</a></li> <li>Verify that the controller can execute ansible <a href=Labs/000-setup/01-init-servers.sh>/Labs/000-setup/01-init-servers.sh</a></li> </ul> <hr> <h3>Test Ansible configuration</h3> <ul> <li>Now we are ready to start play with Ansible!</li> </ul> <h2 id=09-check-ansible-configuration>09. Check Ansible configuration<a class=headerlink href=#09-check-ansible-configuration title="Permanent link">&para;</a></h2> <ul> <li> <p>The first step is to test Ansible configuration <div class="language-sh highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c1># Verify that Ansible is installed correctly</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>ansible-controller<span class=w> </span>ansible<span class=w> </span>--version
</span></code></pre></div></p> </li> <li> <p>Sample output</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a>ansible<span class=w> </span><span class=o>[</span>core<span class=w> </span><span class=m>2</span>.17.9<span class=o>]</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>config<span class=w> </span><span class=nv>file</span><span class=w> </span><span class=o>=</span><span class=w> </span>/labs-scripts/ansible.cfg
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>configured<span class=w> </span>module<span class=w> </span>search<span class=w> </span><span class=nv>path</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=s1>&#39;/root/.ansible/plugins/modules&#39;</span>,<span class=w> </span><span class=s1>&#39;/usr/share/ansible/plugins/modules&#39;</span><span class=o>]</span>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a>ansible<span class=w> </span>python<span class=w> </span>module<span class=w> </span><span class=nv>location</span><span class=w> </span><span class=o>=</span><span class=w> </span>/usr/lib/python3/dist-packages/ansible
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a>ansible<span class=w> </span>collection<span class=w> </span><span class=nv>location</span><span class=w> </span><span class=o>=</span><span class=w> </span>/root/.ansible/collections:/usr/share/ansible/collections
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a>executable<span class=w> </span><span class=nv>location</span><span class=w> </span><span class=o>=</span><span class=w> </span>/usr/bin/ansible
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a>python<span class=w> </span><span class=nv>version</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>3</span>.12.3<span class=w> </span><span class=o>(</span>main,<span class=w> </span>Feb<span class=w>  </span><span class=m>4</span><span class=w> </span><span class=m>2025</span>,<span class=w> </span><span class=m>14</span>:48:35<span class=o>)</span><span class=w> </span><span class=o>[</span>GCC<span class=w> </span><span class=m>13</span>.3.0<span class=o>]</span><span class=w> </span><span class=o>(</span>/usr/bin/python3<span class=o>)</span>
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a>jinja<span class=w> </span><span class=nv>version</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>3</span>.1.2
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a><span class=nv>libyaml</span><span class=w> </span><span class=o>=</span><span class=w> </span>True
</span></code></pre></div> </li> <li> <p>We are looking for the following line: <div class="language-sh highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a>config<span class=w> </span><span class=nv>file</span><span class=w> </span><span class=o>=</span><span class=w> </span>/labs-scripts/ansible.cfg
</span></code></pre></div></p> </li> </ul> <h2 id=10-basic-ansible-configuration>10. Basic ansible configuration<a class=headerlink href=#10-basic-ansible-configuration title="Permanent link">&para;</a></h2> <ul> <li>Once all is ready, lets check if the controller can connect to the servers with the Ansible <code>ping</code> command.</li> <li> <p><code>ping</code> is an <code>Ad-Hoc</code> Ansible command that we will cover later on.</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=c1># Ping the servers and check that they are &quot;alive&quot;</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>ansible-controller<span class=w> </span>sh<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;cd /labs-scripts &amp;&amp; ansible all -m ping&quot;</span>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=c1>### Output</span>
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a>*<span class=w> </span>Executing:<span class=w> </span>ansible<span class=w> </span>all<span class=w> </span>-m<span class=w> </span>ping
</span><span id=__span-17-6><a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a>linux-server-2<span class=w> </span><span class=p>|</span><span class=w> </span><span class=nv>SUCCESS</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span><span class=o>{</span>
</span><span id=__span-17-7><a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=w>    </span><span class=s2>&quot;ansible_facts&quot;</span>:<span class=w> </span><span class=o>{</span>
</span><span id=__span-17-8><a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a><span class=w>        </span><span class=s2>&quot;discovered_interpreter_python&quot;</span>:<span class=w> </span><span class=s2>&quot;/usr/bin/python3&quot;</span>
</span><span id=__span-17-9><a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a><span class=w>    </span><span class=o>}</span>,
</span><span id=__span-17-10><a id=__codelineno-17-10 name=__codelineno-17-10 href=#__codelineno-17-10></a><span class=w>    </span><span class=s2>&quot;changed&quot;</span>:<span class=w> </span>false,
</span><span id=__span-17-11><a id=__codelineno-17-11 name=__codelineno-17-11 href=#__codelineno-17-11></a><span class=w>    </span><span class=s2>&quot;ping&quot;</span>:<span class=w> </span><span class=s2>&quot;pong&quot;</span>
</span><span id=__span-17-12><a id=__codelineno-17-12 name=__codelineno-17-12 href=#__codelineno-17-12></a><span class=o>}</span>
</span><span id=__span-17-13><a id=__codelineno-17-13 name=__codelineno-17-13 href=#__codelineno-17-13></a>linux-server-1<span class=w> </span><span class=p>|</span><span class=w> </span><span class=nv>SUCCESS</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span><span class=o>{</span>
</span><span id=__span-17-14><a id=__codelineno-17-14 name=__codelineno-17-14 href=#__codelineno-17-14></a><span class=w>    </span><span class=s2>&quot;ansible_facts&quot;</span>:<span class=w> </span><span class=o>{</span>
</span><span id=__span-17-15><a id=__codelineno-17-15 name=__codelineno-17-15 href=#__codelineno-17-15></a><span class=w>        </span><span class=s2>&quot;discovered_interpreter_python&quot;</span>:<span class=w> </span><span class=s2>&quot;/usr/bin/python3&quot;</span>
</span><span id=__span-17-16><a id=__codelineno-17-16 name=__codelineno-17-16 href=#__codelineno-17-16></a><span class=w>    </span><span class=o>}</span>,
</span><span id=__span-17-17><a id=__codelineno-17-17 name=__codelineno-17-17 href=#__codelineno-17-17></a><span class=w>    </span><span class=s2>&quot;changed&quot;</span>:<span class=w> </span>false,
</span><span id=__span-17-18><a id=__codelineno-17-18 name=__codelineno-17-18 href=#__codelineno-17-18></a><span class=w>    </span><span class=s2>&quot;ping&quot;</span>:<span class=w> </span><span class=s2>&quot;pong&quot;</span>
</span><span id=__span-17-19><a id=__codelineno-17-19 name=__codelineno-17-19 href=#__codelineno-17-19></a><span class=o>}</span>
</span><span id=__span-17-20><a id=__codelineno-17-20 name=__codelineno-17-20 href=#__codelineno-17-20></a>linux-server-3<span class=w> </span><span class=p>|</span><span class=w> </span><span class=nv>SUCCESS</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span><span class=o>{</span>
</span><span id=__span-17-21><a id=__codelineno-17-21 name=__codelineno-17-21 href=#__codelineno-17-21></a><span class=w>    </span><span class=s2>&quot;ansible_facts&quot;</span>:<span class=w> </span><span class=o>{</span>
</span><span id=__span-17-22><a id=__codelineno-17-22 name=__codelineno-17-22 href=#__codelineno-17-22></a><span class=w>        </span><span class=s2>&quot;discovered_interpreter_python&quot;</span>:<span class=w> </span><span class=s2>&quot;/usr/bin/python3&quot;</span>
</span><span id=__span-17-23><a id=__codelineno-17-23 name=__codelineno-17-23 href=#__codelineno-17-23></a><span class=w>    </span><span class=o>}</span>,
</span><span id=__span-17-24><a id=__codelineno-17-24 name=__codelineno-17-24 href=#__codelineno-17-24></a><span class=w>    </span><span class=s2>&quot;changed&quot;</span>:<span class=w> </span>false,
</span><span id=__span-17-25><a id=__codelineno-17-25 name=__codelineno-17-25 href=#__codelineno-17-25></a><span class=w>    </span><span class=s2>&quot;ping&quot;</span>:<span class=w> </span><span class=s2>&quot;pong&quot;</span>
</span><span id=__span-17-26><a id=__codelineno-17-26 name=__codelineno-17-26 href=#__codelineno-17-26></a><span class=o>}</span>
</span></code></pre></div> </li> </ul> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Render date of last update --> <!-- Render date of creation --> <!-- ---------------------------------------------------------------------- --> <!-- Render authors --> <!-- ---------------------------------------------------------------------- --> <!-- Render committers from GitHub --> <!-- Render committers from GitLab --> <!-- Render committers --> <!-- ---------------------------------------------------------------------- --> <!-- Determine date of last update --> <!-- Determine date of creation --> <!-- Source file information --> <aside class=md-source-file> <!-- Date of last update --> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="October 17, 2025 06:21:41 UTC">October 17, 2025</span> </span> <!-- Authors (git-authors plugin) --> <!-- Authors (git-committers plugin) --> <!-- Fallback: Manual GitHub avatar for repository owner --> <span class=md-source-file__fact> <nav> <a href=https://github.com/nirgeier class=md-author title=@nirgeier> <img src="https://avatars.githubusercontent.com/u/555154?size=256" alt="Nir Geier"> </a> </nav> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Footer --> <footer class=md-footer> <div class=logo1></div> <div class=logo2></div> <!-- Link to previous and/or next page --> <nav class="md-footer__inner md-grid" aria-label=Footer> <!-- Link to previous page --> <a href=../000-setup/ class="md-footer__link md-footer__link--prev" aria-label="Previous: 000 Setup"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> 000 Setup </div> </div> </a> <!-- <ul class="social-badges">
          <li><a href="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" target="_blank" rel="noopener"><img src="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" alt="Visitor Badge"></a></li>
          <li><a href="https://www.linkedin.com/in/nirgeier/" target="_blank" rel="noopener"><i class="fab fa-linkedin" aria-hidden="true"></i><span class="sr-only">LinkedIn profile</span></a></li>
          <li><a href="mailto:nirgeier@gmail.com"><img src="https://img.shields.io/badge/-nirgeier@gmail.com-fcc624?style=flat&logo=Gmail&logoColor=red" alt="Gmail Badge"></a></li>
          <li><a href="mailto:nirg@codewizard.co.il"><img src="https://img.shields.io/badge/-nirg@codewizard.co.il-fcc624?style=flat&logo=microsoftoutlook&logoColor=blue" alt="Outlook Badge"></a></li>
        </ul> --> <!-- Link to next page --> <a href=../002-no-inventory/ class="md-footer__link md-footer__link--next" aria-label="Next: 002 No Inventory"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> 002 No Inventory </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> ©2021-2025 Nir Geier<br><a href="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" target=_blank rel=noopener><img src="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" alt="Visitor Badge"></a> </div> </div> <!-- Social links --> <div class=md-social> <a href=https://github.com/nirgeier/AnsibleLabs target=_blank rel=noopener title="View on GitHub" class="md-social__link social-class__github"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://github.com/nirgeier/AnsibleLabs/network/members target=_blank rel=noopener title="Fork this repo" class="md-social__link social-class__fork"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0M5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0m6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5m-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0"/></svg> </a> <a href=https://github.com/nirgeier/AnsibleLabs/stargazers target=_blank rel=noopener title="Star this repo" class="md-social__link social-class__star"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25m0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41z"/></svg> </a> <a href=https://www.linkedin.com/in/nirgeier/ target=_blank rel=noopener title="Connect on LinkedIn" class="md-social__link social-class__linkedin"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=https://discord.gg/U6xW23Ss target=_blank rel=noopener title="Follow me on Discord" class="md-social__link social-class__discord"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg> </a> <a href=https://stackoverflow.com/users/1755598/codewizard target=_blank rel=noopener title="Follow me on Stack Overflow" class="md-social__link social-class__stackoverflow"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M291 311 95.3 269.7 87.1 309l195.7 41zm51-87L188.5 95.7 163 126.5l153.5 128.3zm-31.2 39.7L129.5 179l-16.7 36.5L294 300zM262.3 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H43V320H3v160h359.5V320h-40z"/></svg> </a> <a href=https://wa.me/972548122310 target=_blank rel=noopener title="Follow me on WhatsApp" class="md-social__link social-class__whatsapp"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157m-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6m101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6"/></svg> </a> <a href=mailto:nirg@codewizard.co.il target=_blank rel=noopener title="Email me" class="md-social__link social-class__email"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.footnote.tooltips", "content.tabs.link", "content.tooltips", "content.footer.last-updated", "content.footer.contributors", {"navigation.expand": false}, "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", {"navigation.top": true}, "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate", "toc.sticky"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.50899def.min.js></script> <script src=../js/print-site.js></script> <script src=https://buttons.github.io/buttons.js></script> </body> </html>